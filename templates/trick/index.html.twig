{% extends 'base.html.twig' %}

{% block title %}La page des figures{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 1000px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper mx-auto">
    <h1>Bienvenue !</h1>
    <br>
    <h2>Toutes les figures :</h2>
    <br>

    <div class="row mx-auto">
        {% for trick in trick %}
            <div class="card border-light col-5 mx-auto" style="max-width: 20rem; margin: 10px;">
            <div class="card-header row">
                    {{ trick.category.name }}
            </div>
            <div class="card-body row">
                <div class="title col-8">
                    <h4 class="card-title"><a href="{{ path('trick_show', {'id': trick.id}) }}">{{ trick.title }}</a></h4>
                </div>
                <div class="action col">
                    {# {% if trick.user.id == app.token.user.id %} #}
                    {% if app.user %}
                        <a href="{{ path('trick_edit', {'id': trick.id}) }}" data-toggle="tooltip" data-placement="top" title="Modifier la figure"><i class="fas fa-pen"></i></a>
                        <a href="{{ path('trick_remove', {'id': trick.id}) }}" data-toggle="tooltip" data-placement="top" title="Supprimer la figure"><i class="fas fa-trash-alt"></i></a>
                    {% endif %}
                </div>
            </div>
            <div class="card-body">
                <svg xmlns="http://www.w3.org/2000/svg" class="d-block user-select-none" width="100%" height="200" aria-label="Placeholder: Image cap" focusable="false" role="img" preserveAspectRatio="xMidYMid slice" viewBox="0 0 318 180" style="font-size:1.125rem;text-anchor:middle">
                    <rect width="100%" height="100%" fill="#868e96"></rect>
                    <text x="50%" y="50%" fill="#dee2e6" dy=".3em">Image</text>
                </svg>
                <p class="card-text">{{ trick.description|slice(0,200) ~ '...' }}</p>
            </div>
            <div class="card-footer text-muted">
                <span class="date">{{ trick.createdAt|date('d/m/Y') }}</span>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
